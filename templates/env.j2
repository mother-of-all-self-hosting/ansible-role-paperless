{#
SPDX-FileCopyrightText: 2024 Julian-Samuel Geb√ºhr
SPDX-FileCopyrightText: 2024 Bergruebe

SPDX-License-Identifier: AGPL-3.0-or-later
#}

TZ={{ paperless_environment_variables_tz }}

PAPERLESS_PORT={{ paperless_container_http_port }}
PAPERLESS_REDIS={{ paperless_redis_url }}

{% if paperless_database_type == 'postgres' %}
PAPERLESS_DBENGINE=postgresql
PAPERLESS_DBHOST={{ paperless_database_postgres_hostname }}
PAPERLESS_DBPORT={{ paperless_database_postgres_port }}
PAPERLESS_DBUSER={{ paperless_database_postgres_username }}
PAPERLESS_DBPASS={{ paperless_database_postgres_password }}
PAPERLESS_DBSSLMODE={{ paperless_database_postgres_sslmode }}
PAPERLESS_DBNAME={{ paperless_database_name }}

{% elif paperless_database_type == 'mariadb' %}
PAPERLESS_DBENGINE=mariadb
PAPERLESS_DBHOST={{ paperless_database_mariadb_hostname }}
PAPERLESS_DBPORT={{ paperless_database_mariadb_port }}
PAPERLESS_DBUSER={{ paperless_database_mariadb_username }}
PAPERLESS_DBPASS={{ paperless_database_mariadb_password }}
PAPERLESS_DBSSLMODE={{ paperless_database_mariadb_sslmode }}
PAPERLESS_DBNAME={{ paperless_database_name }}

{% elif paperless_database_type == 'sqlite' %}
{#
As Paperless-ngx defaults to SQLite, no environment variable is required for it.
See: https://docs.paperless-ngx.com/configuration/#database
#}
{% endif %}

PAPERLESS_URL={{ paperless_url }}
PAPERLESS_APP_TITLE={{ paperless_app_title }}

{% if paperless_admin_user %}
PAPERLESS_ADMIN_USER={{ paperless_admin_user }}
PAPERLESS_ADMIN_PASSWORD={{ paperless_admin_password }}
{% endif %}

{% if paperless_secret_key %}
PAPERLESS_SECRET_KEY={{ paperless_secret_key }}
{% endif %}

{% if paperless_email_host %}
PAPERLESS_EMAIL_HOST={{ paperless_email_host }}
PAPERLESS_EMAIL_PORT={{ paperless_email_port }}
# Optionally authenticate (don't add quotation marks to your password)
PAPERLESS_EMAIL_HOST_USER={{ paperless_email_username }}
PAPERLESS_EMAIL_HOST_PASSWORD={{ paperless_email_password }}
# Use StartTLS
PAPERLESS_EMAIL_USE_TLS={{ paperless_email_use_tls }}
# Use SSL
PAPERLESS_EMAIL_USE_SSL={{ paperless_email_use_ssl }}
# Email address Paperless-ngx will send from, should have a correct @domain
PAPERLESS_EMAIL_FROM={{ paperless_email_from }}
{% endif %}

PAPERLESS_OCR_LANGUAGES={{ paperless_environment_variable_paperless_ocr_languages }}

{% if paperless_environment_variable_paperless_filename_format %}
PAPERLESS_FILENAME_FORMAT={{ paperless_environment_variable_paperless_filename_format }}
{% endif %}

{% if paperless_tika_enabled %}
PAPERLESS_TIKA_ENABLED={{ paperless_tika_enabled }}
PAPERLESS_TIKA_ENDPOINT={{ paperless_tika_endpoint }}
{% endif %}

{% if paperless_gotenberg_enabled %}
PAPERLESS_TIKA_GOTENBERG_ENDPOINT={{ paperless_gotenberg_endpoint }}
{% endif %}

# set read-only filesystem for S6
S6_READ_ONLY_ROOT=1

{{ paperless_variables_additional_variables }}
